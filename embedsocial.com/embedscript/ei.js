!function(t,e){"use strict";var i="addEventListener",o="getElementsByClassName",n="createElement",s="classList",d="appendChild",l="dataset",a="embed-lightbox-iframe",h="embed-lightbox-is-loaded",r="embed-lightbox-is-opened",c="embed-lightbox-is-showing",m=function(t,i,n){var s=n||{};this.trigger=t,this.elemRef=i,this.rate=s.rate||500,this.el=e[o](a)[0]||"",this.body=this.el?this.el[o]("embed-lightbox-body")[0]:"",this.content=this.el?this.el[o]("embed-lightbox-content")[0]:"",this.href=t[l].src||"",this.paddingBottom=t[l].paddingBottom||"",this.onOpened=s.onOpened,this.onIframeLoaded=s.onIframeLoaded,this.onLoaded=s.onLoaded,this.onCreated=s.onCreated,this.init()};m.prototype.init=function(){var t=this;this.el||this.create();var e,o,n,s,d,l,a=(e=function(e){e.preventDefault(),t.open()},o=this.rate,function(){d=this,s=[].slice.call(arguments,0),l=new Date;var t=function(){var i=new Date-l;i<o?n=setTimeout(t,o-i):(n=null,e.apply(d,s))};n||(n=setTimeout(t,o))});this.trigger[i]("click",a)},m.prototype.create=function(){var t=this,o=e[n]("div");this.el=e[n]("div"),this.content=e[n]("div"),this.body=e[n]("div"),this.el[s].add(a),o[s].add("embed-lightbox-backdrop"),this.content[s].add("embed-lightbox-content"),this.body[s].add("embed-lightbox-body"),this.el[d](o),this.content[d](this.body),this.contentHolder=e[n]("div"),this.contentHolder[s].add("embed-lightbox-content-holder"),this.contentHolder[d](this.content),this.el[d](this.contentHolder),e.body[d](this.el),o[i]("click",function(){t.close()});var l=function(){t.isOpen()||(t.el[s].remove(c),t.body.innerHTML="")};this.el[i]("transitionend",l,!1),this.el[i]("webkitTransitionEnd",l,!1),this.el[i]("mozTransitionEnd",l,!1),this.el[i]("msTransitionEnd",l,!1),this.callCallback(this.onCreated,this)},m.prototype.loadIframe=function(){var t,i,o=this;this.iframeId=a+"-"+this.elemRef,this.body.innerHTML='<iframe src="'+this.href+'" name="'+this.iframeId+'" id="'+this.iframeId+'" onload="this.style.opacity=1;" style="opacity:0;border:none;" scrolling="no" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" height="166" frameborder="no"></iframe>',t=this.iframeId,i=this.body,e.getElementById(t).onload=function(){this.style.opacity=1,i[s].add(h),o.callCallback(o.onIframeLoaded,o),o.callCallback(o.onLoaded,o)}},m.prototype.open=function(){this.loadIframe(),this.paddingBottom?this.content.style.paddingBottom=this.paddingBottom:this.content.removeAttribute("style"),this.el[s].add(c),this.el[s].add(r),this.callCallback(this.onOpened,this)},m.prototype.close=function(){this.el[s].remove(r),this.body[s].remove(h)},m.prototype.isOpen=function(){return this.el[s].contains(r)},m.prototype.callCallback=function(t,e){"function"==typeof t&&t.bind(this)(e)},t.EmbedSocialIframeLightbox=m}("undefined"!=typeof window?window:this,document);if(!document.getElementById("EmbedSocialIFrame")){var jsEmbed=document.createElement("script");jsEmbed.id="EmbedSocialIFrame",jsEmbed.src="https://embedsocial.com/cdn/iframe.js",document.getElementsByTagName("body")[0].appendChild(jsEmbed)}if(!document.getElementById("EmbedSocialIFrameLightboxCSS")){var cssEmbed=document.createElement("link");cssEmbed.id="EmbedSocialIFrameLightboxCSS",cssEmbed.rel="stylesheet",cssEmbed.href="https://embedsocial.com/cdn/iframe-lightbox.min.css?v=2.0";document.getElementsByTagName("head")[0].appendChild(cssEmbed)}EMBEDSOCIAL={getEmbedData:function(albumRef,albumDiv){var iframes=albumDiv.getElementsByTagName("iframe");if(iframes.length<=0){var ifrm=document.createElement("iframe");var iframeId="embedIFrame_"+albumRef+Math.random().toString(36).substring(7);var srcIfrm="https://embedsocial.com/api/pro_album/facebook/"+albumRef;ifrm.setAttribute("src",srcIfrm);ifrm.setAttribute("id",iframeId);ifrm.setAttribute("class","embedsocial-album-iframe");ifrm.setAttribute("title","EmbedAlbum widget with ID: "+iframeId);ifrm.style.width="0px";ifrm.style.height="0px";ifrm.style.maxHeight="100%";ifrm.style.maxWidth="100%";ifrm.style.minHeight="100%";ifrm.style.minWidth="100%";ifrm.style.border="0";ifrm.setAttribute("scrolling","no");albumDiv.appendChild(ifrm);EMBEDSOCIAL.initResizeFrame(albumRef,iframeId);EMBEDSOCIAL.initFreeLinkClass(albumDiv)}else{var srcIfrm="https://embedsocial.com/api/pro_album/facebook/"+albumRef;for(var j=0;j<iframes.length;j++){iframes[j].setAttribute("src",srcIfrm);iframes[j].setAttribute("class","embedsocial-album-iframe");EMBEDSOCIAL.initResizeFrame(albumRef,iframes[j].getAttribute("id"));EMBEDSOCIAL.initFreeLinkClass(albumDiv)}}setTimeout(function(){for(var i=0;i<iframes.length;i++){iframes[i].parentElement.classList.remove("embedsocial-widget-loading")}},2e3)},initResizeFrame:function(albumRef,iframeId){if(document.getElementById("EmbedSocialIFrame")&&"function"===typeof iFrameResize){iFrameResize({messageCallback:function(messageData){if(messageData.message.action==="add_free_banner"){EMBEDSOCIAL.addFreeBanner(messageData.message)}if(messageData.message.action==="remove_free_banner"){EMBEDSOCIAL.removeFreeBanner(messageData.message)}if(messageData.message.action==="create"){EMBEDSOCIAL.createLightBox(messageData.message)}if(messageData.message.hasOwnProperty("navigationCode")){EMBEDSOCIAL.navigationLightBox(messageData.message.albumRef,messageData.message.navigationCode)}if(messageData.message.hasOwnProperty("openLinkInNewTab")){EMBEDSOCIAL.openLinkInNewTab(messageData.message.link)}},resizedCallback:function(messageData){messageData.iframe.parentElement.classList.remove("embedsocial-widget-loading");EMBEDSOCIAL.removeInnerFreeBanner(messageData.iframe.parentElement)}},".embedsocial-album-iframe");iFrameResize({messageCallback:function(messageData){if(messageData.message.action==="close"){EMBEDSOCIAL.closeLightBox(messageData.message)}if(messageData.message.hasOwnProperty("navigationCode")){EMBEDSOCIAL.navigationLightBox(messageData.message.albumRef,messageData.message.navigationCode)}},sizeHeight:false,sizeWidth:false},"#embed-lightbox-iframe-"+albumRef);var ifr=document.getElementById(iframeId);if(ifr){EMBEDSOCIAL.freeLinkClass(ifr.parentElement);setTimeout(function(){ifr.iFrameResizer.sendMessage({hasOpenLinkInNewTab:true});EMBEDSOCIAL.removeInnerFreeBanner(ifr.parentElement)},1e3)}}else{setTimeout(function(){EMBEDSOCIAL.initResizeFrame(albumRef,iframeId)},200)}},createLightBox:function(data){if(!document.getElementById("embed-lightbox-"+data.albumRef)){var divLightbox=document.createElement("a");divLightbox.setAttribute("class","embedsocail-iframe-lightbox-link");divLightbox.setAttribute("id","embed-lightbox-"+data.albumRef);divLightbox.setAttribute("data-src",data.src);document.body.appendChild(divLightbox)}else{divLightbox=document.getElementById("embed-lightbox-"+data.albumRef);divLightbox.setAttribute("data-src",data.src);divLightbox.innerHTML=""}[].forEach.call(document.getElementsByClassName("embedsocail-iframe-lightbox-link"),function(el){el.lightbox=new EmbedSocialIframeLightbox(el,data.albumRef,{onLoaded:function(iframe){EMBEDSOCIAL.initResizeFrame(data.albumRef,data.iframeId);function lightBoxIframeResize(){var windowHeight=window.innerHeight||document.documentElement.clientHeight;if(windowHeight>1800){windowHeight=1800}var iframeEl=document.getElementById("embed-lightbox-iframe-"+data.albumRef);if(typeof iframeEl!=="undefined"&&iframeEl!==null){iframeEl.style.height=parseInt(windowHeight*.95)+"px";iframeEl.style.zIndex="1"}}lightBoxIframeResize();window.addEventListener("resize",lightBoxIframeResize)}})});EMBEDSOCIAL.openLightBox(data)},openLightBox:function(data){document.getElementById("embed-lightbox-"+data.albumRef).click();document.getElementsByClassName("embed-lightbox-body")[0].addEventListener("click",function(event){var targetElement=event.target||event.srcElement;if(targetElement.classList.contains("embed-lightbox-is-loaded")){EMBEDSOCIAL.closeLightBox(data)}})},closeLightBox:function(data){document.getElementsByClassName("embed-lightbox-backdrop")[0].click();[].forEach.call(document.getElementsByClassName("embed-lightbox-body"),function(el){el.className="embed-lightbox-body"})},navigationLightBox:function(albumRef,code){var iframe=document.getElementById("embed-lightbox-iframe-"+albumRef);if(iframe){iframe.iFrameResizer.sendMessage({navigationCode:code})}},openLinkInNewTab:function(link){window.open(link)},addFreeBanner:function(data){if(data.version==="free"){var iframe=document.getElementById(data.iframeId);if(iframe){var freeBanners=iframe.parentElement.getElementsByClassName("feed-powered-by-es");if(freeBanners.length===0){var freeLinkElement=document.createElement("a");freeLinkElement.setAttribute("class",data.freeLinkClasses?data.freeLinkClasses:"feed-powered-by-es");freeLinkElement.setAttribute("target","_blank");freeLinkElement.setAttribute("href",data.freeLinkHref?data.freeLinkHref:"https://embedsocial.com/social-media-aggregator/");freeLinkElement.setAttribute("title",data.freeLinkTitle?data.freeLinkTitle:"Facebook widget");freeLinkElement.innerHTML=(data.freeLinkText?data.freeLinkText:"Widget by EmbedSocial")+"<span> &#8594;</span>";iframe.parentElement.appendChild(freeLinkElement);EMBEDSOCIAL.initFreeLinkClass(iframe.parentElement)}else{for(var j=0;j<freeBanners.length;j++){freeBanners[j].style.display="block"}}EMBEDSOCIAL.removeInnerFreeBanner(iframe.parentElement)}}},removeFreeBanner:function(data){if(data.version!=="free"){var iframe=document.getElementById(data.iframeId);if(iframe){var freeBanners=iframe.parentElement.getElementsByClassName("feed-powered-by-es");for(var i=0;i<freeBanners.length;i++){freeBanners[i].parentElement.removeChild(freeBanners[i])}}}},removeInnerFreeBanner:function(albumDiv){var freeLinks=albumDiv.getElementsByClassName("feed-powered-by-es");for(i=0;i<freeLinks.length;i++){var iframes=albumDiv.getElementsByTagName("iframe");if(iframes){iframes[0].iFrameResizer.sendMessage({removeInnerFreeBanner:true})}}},initFreeLinkClass:function(albumDiv){window.addEventListener("load",function(){EMBEDSOCIAL.removeInnerFreeBanner(albumDiv)});EMBEDSOCIAL.freeLinkClass(albumDiv);window.addEventListener("resize",function(){EMBEDSOCIAL.freeLinkClass(albumDiv)})},freeLinkClass:function(albumDiv){var freeLinks=albumDiv.getElementsByClassName("feed-powered-by-es");for(var j=0;j<freeLinks.length;j++){var classes=freeLinks[j].className.split(" ");if(albumDiv.offsetWidth<768&&classes.indexOf("feed-powered-by-es-center")===-1){classes.splice(1,0,"feed-powered-by-es-center")}else if(albumDiv.offsetWidth>=768&&classes.indexOf("feed-powered-by-es-center")!==-1){classes.splice(1,1)}freeLinks[j].className=classes.join(" ")}}};if("IntersectionObserver"in window){function callVisible(e,t){for(i in e)e[i].isIntersecting&&EMBEDSOCIAL.getEmbedData(e[i].target.getAttribute("data-ref"),e[i].target)}}function standardLoad(e){for(i=0;i<e.length;i++){var t=e[i],o=t.getAttribute("data-ref");t.classList.add("embedsocial-widget-loading");if("yes"===t.getAttribute("data-lazyload")&&"IntersectionObserver"in window)new IntersectionObserver(callVisible,{}).observe(t);else EMBEDSOCIAL.getEmbedData(o,t)}}var er=document.getElementsByClassName("embedsocial-album");er.length>0?standardLoad(er):window.addEventListener("load",function(){standardLoad(document.getElementsByClassName("embedsocial-album"))});
